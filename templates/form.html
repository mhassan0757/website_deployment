<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Register</title>
    <style>
      body { font-family: Arial, sans-serif; padding: 2rem; }
      form { max-width: 400px; }
      label { display:block; margin-top:0.75rem; }
      input, select { width:100%; padding:0.5rem; }
      button { margin-top:1rem; padding:0.6rem 1rem; }
    </style>
  </head>
  <body>
    <header style="display:flex;justify-content:space-between;align-items:center;padding:0.5rem 0 1rem;border-bottom:1px solid #eee;margin-bottom:1rem;">
      <div style="font-weight:700">MEDIASTREAM</div>
      <div>
        {% if session.user_name %}
          Welcome, {{ session.user_name }} • <a href="/logout">Logout</a>
        {% else %}
          <a href="/login">Login</a> • <a href="/">Register</a>
        {% endif %}
      </div>
    </header>
    <h1>Register</h1>
    <form action="/api/users/register" method="post">
      <label>Name
        <input type="text" name="name" required>
      </label>
      <label>Email
        <input type="email" name="email" required>
      </label>
      <label>Password
        <input type="password" name="password" required>
      </label>
      <label>Role
        <select name="role">
          <option value="consumer">Consumer</option>
          <option value="admin">Admin</option>
        </select>
      </label>
      <button type="submit">Register</button>
    </form>
  </body>
</html>